[
{
	"uri": "/",
	"title": "F5XC Experience",
	"tags": [],
	"description": "",
	"content": "F5XC experience Welcome to the F5 Distributed Cloud Services ( F5XC ) experience .\nDuring the wokshop you will experience the infrastructe and security capabilities of F5XC that can help you easily and quickly pubilsh and secure your applications.\nPublishing an application\r  Expose the workshop application through F5XC cloud Observe the incresed visibility into the app performance and behaviour  Security\r  Enable best of bread Web Application Firewall Discover and Protect your APIs Don\u0026rsquo;t let the Bots impact your business  Deploy and Secure anywhere\r  Load balance and secure the internal servers Decrese latency to your app Expand your application and provide multicloud connectivity  Kubernetes everywhere\r  Deploy app components in the F5XC distributed Kubernetes environment  "
},
{
	"uri": "/040_local_pops/010_onpremce/",
	"title": "Directly inside",
	"tags": [],
	"description": "",
	"content": "F5XC is capable of deploying and Customer Edge ( CE ) in the onprem or cloud environments.\nThis allows us to send the traffic to the application through an IPSEC tunnel and also provide internal and external load balancing and security services.\n Create a HTTP health check object   function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;http-hc\u0026#34;,\r\u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;http_health_check\u0026#34;: {\r\u0026#34;host_header\u0026#34;: \u0026#34;::makeid::.sales-public.f5demos.com\u0026#34;,\r\u0026#34;path\u0026#34;: \u0026#34;/\u0026#34;,\r\u0026#34;use_http2\u0026#34;: false,\r\u0026#34;headers\u0026#34;: {}\r},\r\u0026#34;timeout\u0026#34;: 3,\r\u0026#34;interval\u0026#34;: 15,\r\u0026#34;unhealthy_threshold\u0026#34;: 1,\r\u0026#34;healthy_threshold\u0026#34;: 3,\r\u0026#34;jitter_percent\u0026#34;: 30\r}\r}\r\r\r Create the pool that will represent our backend services   function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-onprem-origin-pool\u0026#34;,\r\u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;origin_servers\u0026#34;: [\r{\r\u0026#34;private_ip\u0026#34;: {\r\u0026#34;ip\u0026#34;: \u0026#34;10.1.1.5\u0026#34;,\r\u0026#34;site_locator\u0026#34;: {\r\u0026#34;site\u0026#34;: {\r\u0026#34;namespace\u0026#34;: \u0026#34;system\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;::ceOnPrem::\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;site\u0026#34;\r}\r},\r\u0026#34;outside_network\u0026#34;: {}\r},\r\u0026#34;labels\u0026#34;: {}\r},\r{\r\u0026#34;private_ip\u0026#34;: {\r\u0026#34;ip\u0026#34;: \u0026#34;10.1.1.6\u0026#34;,\r\u0026#34;site_locator\u0026#34;: {\r\u0026#34;site\u0026#34;: {\r\u0026#34;namespace\u0026#34;: \u0026#34;system\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;::ceOnPrem::\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;site\u0026#34;\r}\r},\r\u0026#34;outside_network\u0026#34;: {}\r},\r\u0026#34;labels\u0026#34;: {}\r}\r],\r\u0026#34;no_tls\u0026#34;: {},\r\u0026#34;port\u0026#34;: 31970,\r\u0026#34;same_as_endpoint_port\u0026#34;: {},\r\u0026#34;healthcheck\u0026#34;: [\r{\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;http-hc\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;healthcheck\u0026#34;\r}\r],\r\u0026#34;loadbalancer_algorithm\u0026#34;: \u0026#34;LB_OVERRIDE\u0026#34;,\r\u0026#34;endpoint_selection\u0026#34;: \u0026#34;LOCAL_PREFERRED\u0026#34;\r}\r}\r\r\r Point the Load Balancer directly to the internal servers  "
},
{
	"uri": "/020_application/010_app_1/",
	"title": "The app",
	"tags": [],
	"description": "",
	"content": "The application is a crypto traiding platform with the following components:\n Frontend - serves the non dynamic content for like html, js, css and images Login - in in charge of dealing with anything related to the login user functionality Users - all user data interaction is done through this microservice only Stocks - connects to external resources to get the latest crypto data and serves it to the application clients Stocks Transaction - Deal with all related to buying or selling crypto currencies. It interact with other microservices like Users and Stocks Database - Database were all information is stored  "
},
{
	"uri": "/010_intro/",
	"title": "Intro to the workshop",
	"tags": [],
	"description": "",
	"content": "Welcome to the F5 Distributed Cloud Services ( F5XC ) workshop .\nDuring the wokshop you will experience the infrastructe and security capabilities of F5XC that can help you easily and quickly pubilsh and secure your applications.\n"
},
{
	"uri": "/010_intro/010_pwd_reset/",
	"title": "Password Reset",
	"tags": [],
	"description": "",
	"content": "If you reached this step you should already have received an email from F5XC requesting you to reset your password.\nCheck you email inbox and follow the bellow steps.\n"
},
{
	"uri": "/050_virtual_k8s/010_vk8s/",
	"title": "Virual K8S",
	"tags": [],
	"description": "",
	"content": " Deploy the app in the F5XC Distributed Virtual Kubernetes   function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-stocks\u0026#34;,\r\u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;service\u0026#34;: {\r\u0026#34;num_replicas\u0026#34;: 1,\r\u0026#34;containers\u0026#34;: [\r{\r\u0026#34;name\u0026#34;: \u0026#34;stocks\u0026#34;,\r\u0026#34;image\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;registry.hub.docker.com/sorinboiaf5/arcadia-stocks:ocp\u0026#34;,\r\u0026#34;public\u0026#34;: {},\r\u0026#34;pull_policy\u0026#34;: \u0026#34;IMAGE_PULL_POLICY_DEFAULT\u0026#34;\r},\r\u0026#34;init_container\u0026#34;: false,\r\u0026#34;flavor\u0026#34;: \u0026#34;CONTAINER_FLAVOR_TYPE_TINY\u0026#34;\r}\r],\r\u0026#34;deploy_options\u0026#34;: {\r\u0026#34;deploy_re_sites\u0026#34;: {\r\u0026#34;site\u0026#34;: [\r{\r\u0026#34;tenant\u0026#34;: \u0026#34;ves-io\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;system\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;tn2-lon\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;site\u0026#34;\r}\r]\r}\r},\r\u0026#34;advertise_options\u0026#34;: {\r\u0026#34;advertise_in_cluster\u0026#34;: {\r\u0026#34;port\u0026#34;: {\r\u0026#34;info\u0026#34;: {\r\u0026#34;port\u0026#34;: 80,\r\u0026#34;protocol\u0026#34;: \u0026#34;PROTOCOL_TCP\u0026#34;,\r\u0026#34;target_port\u0026#34;: 8080\r}\r}\r}\r}\r}\r}\r}\r\r\r Observe that the workload object has simpy created a deployment and service in the Virtual Kubernetes environment   "
},
{
	"uri": "/020_application/020_lb_1/",
	"title": "Load Balancer",
	"tags": [],
	"description": "",
	"content": "Our first step will be to publish the on prem Arcadia applicaion through the F5XC.\nThis will first provide us with built in visibility for the application behaviour and the capability in the next steps to add security services.\n  Create the pool that will represent our backend services function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-origin-pool\u0026#34; },\r\u0026#34;spec\u0026#34;: {\r\u0026#34;origin_servers\u0026#34;: [\r{\r\u0026#34;public_name\u0026#34;: {\r\u0026#34;dns_name\u0026#34;: \u0026#34;::udfarcadia::\u0026#34;\r}\r}\r],\r\u0026#34;use_tls\u0026#34;: {\r\u0026#34;use_host_header_as_sni\u0026#34;: {},\r\u0026#34;tls_config\u0026#34;: {\r\u0026#34;default_security\u0026#34;: {}\r},\r\u0026#34;skip_server_verification\u0026#34;: {},\r\u0026#34;no_mtls\u0026#34;: {}\r},\r\u0026#34;port\u0026#34;: 443,\r\u0026#34;same_as_endpoint_port\u0026#34;: {},\r\u0026#34;healthcheck\u0026#34;: [\r{ \u0026#34;name\u0026#34;: \u0026#34;tcp-monitor\u0026#34;\r}\r],\r\u0026#34;loadbalancer_algorithm\u0026#34;: \u0026#34;LB_OVERRIDE\u0026#34;,\r\u0026#34;endpoint_selection\u0026#34;: \u0026#34;LOCAL_PREFERRED\u0026#34;,\r\u0026#34;advanced_options\u0026#34;: {\r\u0026#34;connection_timeout\u0026#34;: 2000,\r\u0026#34;http_idle_timeout\u0026#34;: 300000,\r\u0026#34;disable_circuit_breaker\u0026#34;: {},\r\u0026#34;disable_outlier_detection\u0026#34;: {},\r\u0026#34;no_panic_threshold\u0026#34;: {},\r\u0026#34;disable_subsets\u0026#34;: {},\r\u0026#34;http2_options\u0026#34;: null\r}\r} }\r\r\r\n  Create the load balancer function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia\u0026#34;, \u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {}\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;domains\u0026#34;: [\r\u0026#34;::makeid::.sales-public.f5demos.com\u0026#34;\r],\r\u0026#34;https_auto_cert\u0026#34;: {\r\u0026#34;http_redirect\u0026#34;: true,\r\u0026#34;port\u0026#34;: 443,\r\u0026#34;tls_config\u0026#34;: {\r\u0026#34;default_security\u0026#34;: {}\r},\r\u0026#34;no_mtls\u0026#34;: {},\r\u0026#34;default_header\u0026#34;: {},\r\u0026#34;enable_path_normalize\u0026#34;: {}\r},\r\u0026#34;downstream_tls_certificate_expiration_timestamps\u0026#34;: [\r{}\r],\r\u0026#34;advertise_on_public_default_vip\u0026#34;: {},\r\u0026#34;default_route_pools\u0026#34;: [\r{\r\u0026#34;pool\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-origin-pool\u0026#34;\r},\r\u0026#34;weight\u0026#34;: 1,\r\u0026#34;priority\u0026#34;: 1,\r\u0026#34;endpoint_subsets\u0026#34;: {}\r}\r],\r\u0026#34;single_lb_app\u0026#34;: {\r\u0026#34;enable_discovery\u0026#34;: {\r\u0026#34;disable_learn_from_redirect_traffic\u0026#34;: {}\r},\r\u0026#34;enable_ddos_detection\u0026#34;: {},\r\u0026#34;enable_malicious_user_detection\u0026#34;: {}\r}\r}\r}\r\r\r\n  Now that we have finished the configuration, F5XC will provision our services including generating certificates.\nIn order to browse to the site you need to go to: https://::makeid::.sales-public.f5demos.com/ Username: satoshi@bitcoin.com\nPassword: bitcoin\n\r  "
},
{
	"uri": "/010_intro/020_first_login/",
	"title": "Login",
	"tags": [],
	"description": "",
	"content": "In order to access the F5XC platform you need to follow this link\r.\nEnter your email and new password.\nSome additional initial setup steps are required, follow the described bellow.\n"
},
{
	"uri": "/020_application/",
	"title": "Publish the application",
	"tags": [],
	"description": "",
	"content": "Now that we got access to the F5XC platform we can start getting to work.\nWe will first need to understand how the application works and than publish it.\n"
},
{
	"uri": "/030_security/020_waf/",
	"title": "Web Application Firewall",
	"tags": [],
	"description": "",
	"content": " First we need to create our WAF policy\nWe will put our policy into blocking mode and leave the other settings to their default configuration as they are based on F5 best practices in regards to security.  Attach the newely created WAF policy to the load balancer  "
},
{
	"uri": "/040_local_pops/020_lbonce/",
	"title": "Load balancer onprem CE",
	"tags": [],
	"description": "",
	"content": "In cases where going through the F5XC global network is not possible due to very low latency or regulations requirnments we can configure the F5XC CE with the same configuration and capabilities that were used when publishing and protecting the app through the F5 global network.\n Publish the LB directly on the on prem CE   function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-ce-onprem\u0026#34;, \u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;domains\u0026#34;: [\r\u0026#34;::acradiaCe::\u0026#34;\r],\r\u0026#34;https\u0026#34;: {\r\u0026#34;http_redirect\u0026#34;: false,\r\u0026#34;add_hsts\u0026#34;: false,\r\u0026#34;port\u0026#34;: 443,\r\u0026#34;tls_parameters\u0026#34;: {\r\u0026#34;tls_config\u0026#34;: {\r\u0026#34;default_security\u0026#34;: {}\r},\r\u0026#34;tls_certificates\u0026#34;: [\r{\r\u0026#34;certificate_url\u0026#34;: \u0026#34;string:///LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURwekNDQW8rZ0F3SUJBZ0lVUC91T1ZITmladElUaFdNN0lSRDVMMFo2cXpBd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1l6RUxNQWtHQTFVRUJoTUNTVXd4RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeElUQWZCZ05WQkFvTQpHRWx1ZEdWeWJtVjBJRmRwWkdkcGRITWdVSFI1SUV4MFpERWNNQm9HQTFVRUF3d1RLaTVoWTJObGMzTXVkV1JtCkxtWTFMbU52YlRBZUZ3MHlNakV3TWpReE5URTNOVE5hRncweU16RXdNalF4TlRFM05UTmFNR014Q3pBSkJnTlYKQkFZVEFrbE1NUk13RVFZRFZRUUlEQXBUYjIxbExWTjBZWFJsTVNFd0h3WURWUVFLREJoSmJuUmxjbTVsZENCWAphV1JuYVhSeklGQjBlU0JNZEdReEhEQWFCZ05WQkFNTUV5b3VZV05qWlhOekxuVmtaaTVtTlM1amIyMHdnZ0VpCk1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRREhhRGZyNktFMlRXK0dLUEdDSVlOdVNrTHEKdW5zaWRxTzJBazFBMFI1eGZPN042bm02WXBNRVN4T0tvYldQNCtCbXNNek0zOExPS05ERm9reklNRUs3ZFdBZwpYa0FTZTVzNkpkTEFRSXFmOThPbWVFbWZUcW02OGFPMWlGWXphYTdMSEM4cjZPMlhyb2VUWnZJUXhNTVVvMlNwCld2Si91cUFJalcwRnNjSU1seVJhTzVlNWZNNUNWczRFV1ZCbHFQWkRTeWRrYjRLZFZydWtJNmR2MDRUSUwzWlAKbGJldnE5TjAzMzdnbnoxN2VERCtmemJwa2Z5c0Q3aEFSVytmQVQ5NzZPbDAwdkhDOENGaWdJMzhJdm5TSjE0Zgp5eE1EL0Z5Njd4WjdxRWliakN5MzdETlFTZzlpdmxjYUR1NkpBT21YZ09wakFMc3dXZUN1bE1ZQlNtWk5BZ01CCkFBR2pVekJSTUIwR0ExVWREZ1FXQkJRTTRjbElMeVNaTnFuSlNVaVNFZ2RYWWc1TGJ6QWZCZ05WSFNNRUdEQVcKZ0JRTTRjbElMeVNaTnFuSlNVaVNFZ2RYWWc1TGJ6QVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BMEdDU3FHU0liMwpEUUVCQ3dVQUE0SUJBUUN4bVhTVEJVaDJHVFFnYys1TDdZSEdFY3ExeWZhRmNDWHEzdnhVeFk3d2txZURKZTdyCjJlK0xwODZ2ZitzQkxwOHV6MktXb2Q3YmxiaUVpeGdveHRZSm9qVlNYeDgrdk1Zc2JiZXlHSmVTZXR6SWhkZkgKSUlpZXNrM3ZMT3BpWDFLRm4yWE9jaFRFWE5SK3NFR2RaZy9sZ1U3MDVrWllZbndIZFppaUF6UjI1YXJUbWEwNgpTekdWZDR0cnJsdVVKR1BBcGZUMHhRL0tMMUpDTnEwR3ZtbzVmc3QrWlJWdHBOSVhPSitHVWlQMDlZZzNseitYCnBWTEhrV3kxcWFiejhaNWp3aTVxaXBwWjVBQVdFTS9qUXhGMWRCYWFNL2ZSWXVLdmFtM1ZsQStIU0FtZUk1K3kKVWN6YVF4d21VNEJ3YWFlbGQ5WXh0VnArUlk5RXBIWXlTWGJSCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0=\u0026#34;,\r\u0026#34;private_key\u0026#34;: {\r\u0026#34;clear_secret_info\u0026#34;: {\r\u0026#34;url\u0026#34;: \u0026#34;string:///LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2QUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktZd2dnU2lBZ0VBQW9JQkFRREhhRGZyNktFMlRXK0cKS1BHQ0lZTnVTa0xxdW5zaWRxTzJBazFBMFI1eGZPN042bm02WXBNRVN4T0tvYldQNCtCbXNNek0zOExPS05ERgpva3pJTUVLN2RXQWdYa0FTZTVzNkpkTEFRSXFmOThPbWVFbWZUcW02OGFPMWlGWXphYTdMSEM4cjZPMlhyb2VUClp2SVF4TU1VbzJTcFd2Si91cUFJalcwRnNjSU1seVJhTzVlNWZNNUNWczRFV1ZCbHFQWkRTeWRrYjRLZFZydWsKSTZkdjA0VElMM1pQbGJldnE5TjAzMzdnbnoxN2VERCtmemJwa2Z5c0Q3aEFSVytmQVQ5NzZPbDAwdkhDOENGaQpnSTM4SXZuU0oxNGZ5eE1EL0Z5Njd4WjdxRWliakN5MzdETlFTZzlpdmxjYUR1NkpBT21YZ09wakFMc3dXZUN1CmxNWUJTbVpOQWdNQkFBRUNnZ0VBYmp4WkhkdCtzOHhmS09XZGpYa0ZkWVVzTlNOZVN4RVhNOWxWNTgwemJUM0oKcnFBL0p5Q3pjWjRuY1c0d054bWN4bWhhNzYrTHUvaW9ZWGwxeFAyWkJwUyt6V1lOT2FxSGg3KzlJSGNOcTUyRwoxWktOOExuRjd3a0NuYXAvTFBEeHBtc3dVSy8yR1BKdEZMbkdmQ3FxUmRDR0ozR1Z1YkxzSVk0OWhQWmQ5aUxsCjUvMVdWWnN1NDk5NW41TThHY3JNbkprVWdwYXdsUkY0TUNmbVpmQ2hSVkprcWQrc0RKRDRKR3RzS1p1OHViSkUKRFQ0ekw4YWprNUdGRnh2N292M0d0czVMUUhNTDBXSVh6SSs4bW53VzZBZkhjNlg1VDg3Q1FqakV4UGpjd0JRZwpHbm11YnBwQmdFbEtmckNPZGlGMkR3SG05di9WOU4yYTdFZk5BSk51cVFLQmdRRHM5Nm0rNEJkdjBQNmlDbDVtCjVUNHN2cDhJOGM5UldNTDNWMlIvQXBzNXFETHNPZ2FIRmVreG8wTG1iYmFEWEluLzZLbkV2Vi83SEYrRGhRM1gKaDlvNW5KV1h2TGxLUURxc2pUN0NhME1LRGNxWVI3VkN5alZWcDV2LzhySEJsZHVvcER0V2hZNjgrYUZzSUJxego2bGY5aWxVTzg1c1JwbVpVRlFiSGdvVHZId0tCZ1FEWGJFVUNheTgyT3R6OHZYbXA2akExRytMZlVwOWc3OFZuClJad0Zvb3ZxN2VDRUQrZDQrNU1IM3F3MUNaemRUSmtNY2RTMVJXK3JGaVZhNWJDdmRUREREVzVMOHJRSG1zM3MKcm16OC8zUEdhb2p6OGszVFdiTjBWakNLNWpHb1M5a3Z0SHhNcE9qcEtvODJJVkZ6QUZjZ0JvQldpOU10a1k2MAppWmczY2JsNUV3S0JnQmlpWW40YVU3Vm5GNkdHekd1TDkxdTFjVmovc2xxMWpJY2tDYWwrZnQ2T2tzU2wvNW01CmVHV1ZvRlhPSUFRbDhaNnQ5RUFrbzc2NkkxL0x6RFdVeE9YcVZrN1E2cjVDVVJjeEU4NG9VbTdRSWppVWM4NSsKc082M251c0xzdGo2R0R5KzNnQlBvQmdiSjJIVE1KTjFrREltV0ZOV2xjOU82aUpoa1RQYWFMRm5Bb0dBZlZKaApPeXo3eEVLdU9PSkptdzNBaWNUMVVSSVI0aVRhNUY5Y2l2S3JEenJmdURSQVp1T0QvN29NMkxZRTZjRWI4Rjl3CmJSdytBSHZiczJ1WVJCcWJDWDRRd21JcFZaczdYUXVFSUJMRVdaTzBwS1k3bkU2ODFWc20xa2RnY0JYZi9aNjAKQ1NxT3pNYVRsZHdBTkRUb2Vwc05va3VweVFLNjBGQ1RtdjJ2OXIwQ2dZQjA2VndOazQwRERGbXBJenhDalZoSApFWWwrUWhOdmJ5TGxKaFVBczZaeGhUYUZrb2tkVVRiOTRjcHNWeHZKenVoZ3VJblJiYWtlL1FWTnl6ZG9uWlNmCkJYWTZ2bktnY292QTNwOEpOeFNNcUh4eVE0WmVJQnZYRFBFYXhYR0Qzcmo0eURVZFZJY1p4Szgwb0NFWWNOcWkKM2VTUHU3cGRLWlNxYWF0NFltdEpxUT09Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0=\u0026#34;\r},\r\u0026#34;secret_encoding_type\u0026#34;: \u0026#34;EncodingNone\u0026#34;\r},\r\u0026#34;disable_ocsp_stapling\u0026#34;: {}\r}\r],\r\u0026#34;no_mtls\u0026#34;: {}\r},\r\u0026#34;default_header\u0026#34;: {},\r\u0026#34;enable_path_normalize\u0026#34;: {},\r\u0026#34;non_default_loadbalancer\u0026#34;: {}\r},\r\u0026#34;downstream_tls_certificate_expiration_timestamps\u0026#34;: [\r{}\r],\r\u0026#34;advertise_custom\u0026#34;: {\r\u0026#34;advertise_where\u0026#34;: [\r{\r\u0026#34;site\u0026#34;: {\r\u0026#34;network\u0026#34;: \u0026#34;SITE_NETWORK_INSIDE_AND_OUTSIDE\u0026#34;,\r\u0026#34;site\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;system\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;::ceOnPrem::\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;site\u0026#34;\r}\r},\r\u0026#34;use_default_port\u0026#34;: {}\r}\r]\r},\r\u0026#34;default_route_pools\u0026#34;: [\r{\r\u0026#34;pool\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-onprem-origin-pool\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;origin_pool\u0026#34;\r},\r\u0026#34;weight\u0026#34;: 1,\r\u0026#34;priority\u0026#34;: 1,\r\u0026#34;endpoint_subsets\u0026#34;: {}\r}\r],\r\u0026#34;routes\u0026#34;: [],\r\u0026#34;app_firewall\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-waf\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;app_firewall\u0026#34;\r},\r\u0026#34;add_location\u0026#34;: true,\r\u0026#34;no_challenge\u0026#34;: {},\r\u0026#34;user_id_client_ip\u0026#34;: {},\r\u0026#34;disable_rate_limit\u0026#34;: {},\r\u0026#34;waf_exclusion_rules\u0026#34;: [],\r\u0026#34;data_guard_rules\u0026#34;: [],\r\u0026#34;blocked_clients\u0026#34;: [],\r\u0026#34;trusted_clients\u0026#34;: [],\r\u0026#34;ddos_mitigation_rules\u0026#34;: [],\r\u0026#34;active_service_policies\u0026#34;: {\r\u0026#34;policies\u0026#34;: [\r{\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-api-enforcer\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;service_policy\u0026#34;\r}\r]\r},\r\u0026#34;round_robin\u0026#34;: {},\r\u0026#34;enable_trust_client_ip_headers\u0026#34;: {\r\u0026#34;client_ip_headers\u0026#34;: [\r\u0026#34;x-forwarded-for\u0026#34;\r]\r},\r\u0026#34;disable_ddos_detection\u0026#34;: {},\r\u0026#34;disable_malicious_user_detection\u0026#34;: {},\r\u0026#34;enable_api_discovery\u0026#34;: {\r\u0026#34;disable_learn_from_redirect_traffic\u0026#34;: {}\r},\r\u0026#34;disable_bot_defense\u0026#34;: {},\r\u0026#34;api_definition\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-api-definition\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;api_definition\u0026#34;\r},\r\u0026#34;disable_ip_reputation\u0026#34;: {},\r\u0026#34;disable_client_side_defense\u0026#34;: {},\r\u0026#34;dns_info\u0026#34;: [],\r\u0026#34;state\u0026#34;: \u0026#34;VIRTUAL_HOST_READY\u0026#34;,\r\u0026#34;auto_cert_info\u0026#34;: {\r\u0026#34;auto_cert_state\u0026#34;: \u0026#34;AutoCertDisabled\u0026#34;,\r\u0026#34;dns_records\u0026#34;: []\r}\r}\r}\r\r\r  Browse to https://::acradiaCe:: . This is the domain name that points directly to the on prem CE.\n  Now you can rerun the securty tests and observe that the same level of protection is enabled even when we publish the Load Balancer on the on prem CE WAF - https://::acradiaCe::/?a=%3Cscript%3Ealert(%27xss%27)\nAPI Protection - https://::acradiaCe::/v1/notanactualapi\n  "
},
{
	"uri": "/050_virtual_k8s/020_lb_to_vk8s/",
	"title": "Load Balancer Routing",
	"tags": [],
	"description": "",
	"content": "The last step will be to instruct the Load Balancer to send the relevant traffic to the service hosted in the Virtual Kubernetes environment.\n Create a pool that represent the vK8s deployment.  function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-stocks-vk8s\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;origin_servers\u0026#34;: [\r{\r\u0026#34;k8s_service\u0026#34;: {\r\u0026#34;service_name\u0026#34;: \u0026#34;arcadia-stocks.::namespace::\u0026#34;,\r\u0026#34;site_locator\u0026#34;: {\r\u0026#34;virtual_site\u0026#34;: { \u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;ny-vsite\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;virtual_site\u0026#34;\r}\r},\r\u0026#34;vk8s_networks\u0026#34;: {}\r},\r\u0026#34;labels\u0026#34;: {}\r}\r],\r\u0026#34;no_tls\u0026#34;: {},\r\u0026#34;port\u0026#34;: 8080,\r\u0026#34;same_as_endpoint_port\u0026#34;: {},\r\u0026#34;healthcheck\u0026#34;: [\r{\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;tcp-monitor\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;healthcheck\u0026#34;\r}\r],\r\u0026#34;loadbalancer_algorithm\u0026#34;: \u0026#34;LB_OVERRIDE\u0026#34;,\r\u0026#34;endpoint_selection\u0026#34;: \u0026#34;LOCAL_PREFERRED\u0026#34;\r}\r}\r\r\r Change the routing config  "
},
{
	"uri": "/030_security/",
	"title": "Secure the application",
	"tags": [],
	"description": "",
	"content": "Now that our application has been published we need to make sure that it is secured. F5XC has multiple services that can help speed up the application security and availability.\nDuring the workshop we will focus on the Web Application Firewall, API Security and Bot Defense services.\n"
},
{
	"uri": "/040_local_pops/030_multicloud/",
	"title": "Multicloud App",
	"tags": [],
	"description": "",
	"content": "Our onprem infrastracture is no longer able to handle the load of our application which boomed due to mass crypto currency addoption.\nWe need to quickly expand and this can be done with any of the cloud providers while keeping the same level of application security and workflows.\nThe management decided to go with AWS and move the Stocks, Stocks Transaction and Frontend services.\nThe Users and Login services will need to remain onprem since they deal with user sensetive data and the regulation and the security team are not allowing moving them.\n Create a new Pool for the part of the application that is deployed in AWS   function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-aws-origin-pool\u0026#34;,\r\u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;origin_servers\u0026#34;: [\r{\r\u0026#34;private_name\u0026#34;: {\r\u0026#34;dns_name\u0026#34;: \u0026#34;arcadiaaws.aws.internal\u0026#34;,\r\u0026#34;site_locator\u0026#34;: {\r\u0026#34;site\u0026#34;: {\r\u0026#34;namespace\u0026#34;: \u0026#34;system\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;::ceOnAws::\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;site\u0026#34;\r}\r},\r\u0026#34;outside_network\u0026#34;: {}\r},\r\u0026#34;labels\u0026#34;: {}\r}\r],\r\u0026#34;no_tls\u0026#34;: {},\r\u0026#34;port\u0026#34;: 31970,\r\u0026#34;same_as_endpoint_port\u0026#34;: {},\r\u0026#34;healthcheck\u0026#34;: [\r{\r\u0026#34;name\u0026#34;: \u0026#34;http-hc\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;healthcheck\u0026#34;\r}\r],\r\u0026#34;loadbalancer_algorithm\u0026#34;: \u0026#34;LB_OVERRIDE\u0026#34;,\r\u0026#34;endpoint_selection\u0026#34;: \u0026#34;LOCAL_PREFERRED\u0026#34;\r}\r}\r\r\r Change the \u0026ldquo;arcadia\u0026rdquo; Load Balancer configuration. Since we decided to move our app into the cloud we will change the default pool to the Aws application pool.\nAt the same time the Login and User services deal with sensetive data and the regulation does not allow us to move this services, they will need to remain in our onprem environment.   function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;domains\u0026#34;: [\r\u0026#34;::makeid::.sales-public.f5demos.com\u0026#34;\r],\r\u0026#34;https_auto_cert\u0026#34;: {\r\u0026#34;http_redirect\u0026#34;: true,\r\u0026#34;add_hsts\u0026#34;: false,\r\u0026#34;port\u0026#34;: 443,\r\u0026#34;tls_config\u0026#34;: {\r\u0026#34;default_security\u0026#34;: {}\r},\r\u0026#34;no_mtls\u0026#34;: {},\r\u0026#34;default_header\u0026#34;: {},\r\u0026#34;enable_path_normalize\u0026#34;: {},\r\u0026#34;non_default_loadbalancer\u0026#34;: {},\r\u0026#34;header_transformation_type\u0026#34;: {\r\u0026#34;default_header_transformation\u0026#34;: {}\r}\r},\r\u0026#34;advertise_on_public_default_vip\u0026#34;: {},\r\u0026#34;default_route_pools\u0026#34;: [\r{\r\u0026#34;pool\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-aws-origin-pool\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;origin_pool\u0026#34;\r},\r\u0026#34;weight\u0026#34;: 1,\r\u0026#34;priority\u0026#34;: 1,\r\u0026#34;endpoint_subsets\u0026#34;: {}\r}\r],\r\u0026#34;routes\u0026#34;: [\r{\r\u0026#34;simple_route\u0026#34;: {\r\u0026#34;path\u0026#34;: {\r\u0026#34;prefix\u0026#34;: \u0026#34;/v1/login\u0026#34;\r},\r\u0026#34;origin_pools\u0026#34;: [\r{\r\u0026#34;pool\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-onprem-origin-pool\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;origin_pool\u0026#34;\r},\r\u0026#34;weight\u0026#34;: 1,\r\u0026#34;priority\u0026#34;: 1,\r\u0026#34;endpoint_subsets\u0026#34;: {}\r}\r],\r\u0026#34;auto_host_rewrite\u0026#34;: {}\r}\r},\r{\r\u0026#34;simple_route\u0026#34;: {\r\u0026#34;path\u0026#34;: {\r\u0026#34;prefix\u0026#34;: \u0026#34;/v1/user\u0026#34;\r},\r\u0026#34;origin_pools\u0026#34;: [\r{\r\u0026#34;pool\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-onprem-origin-pool\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;origin_pool\u0026#34;\r},\r\u0026#34;weight\u0026#34;: 1,\r\u0026#34;priority\u0026#34;: 1,\r\u0026#34;endpoint_subsets\u0026#34;: {}\r}\r],\r\u0026#34;auto_host_rewrite\u0026#34;: {}\r}\r}\r],\r\u0026#34;app_firewall\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-waf\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;app_firewall\u0026#34;\r},\r\u0026#34;add_location\u0026#34;: false,\r\u0026#34;no_challenge\u0026#34;: {},\r\u0026#34;user_id_client_ip\u0026#34;: {},\r\u0026#34;disable_rate_limit\u0026#34;: {},\r\u0026#34;waf_exclusion_rules\u0026#34;: [],\r\u0026#34;data_guard_rules\u0026#34;: [],\r\u0026#34;blocked_clients\u0026#34;: [],\r\u0026#34;trusted_clients\u0026#34;: [],\r\u0026#34;ddos_mitigation_rules\u0026#34;: [],\r\u0026#34;active_service_policies\u0026#34;: {\r\u0026#34;policies\u0026#34;: [\r{\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-api-enforcer\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;service_policy\u0026#34;\r}\r]\r},\r\u0026#34;round_robin\u0026#34;: {},\r\u0026#34;disable_trust_client_ip_headers\u0026#34;: {},\r\u0026#34;enable_ddos_detection\u0026#34;: {},\r\u0026#34;enable_malicious_user_detection\u0026#34;: {},\r\u0026#34;enable_api_discovery\u0026#34;: {\r\u0026#34;disable_learn_from_redirect_traffic\u0026#34;: {}\r},\r\u0026#34;api_definition\u0026#34;: {\r\u0026#34;tenant\u0026#34;: \u0026#34;f5-sales-public-qdpwiibg\u0026#34;,\r\u0026#34;namespace\u0026#34;: \u0026#34;::namespace::\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-api-definition\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;api_definition\u0026#34;\r}\r}\r}\r\r\r Try and buy or sell a crypto currency.\nYou will observe that the transaction is stuck. This is happening because the Stock Transaction service in AWS needs to contact the User service which has remained on prem.\nWe will enable secure connectivity in the next steps.  "
},
{
	"uri": "/030_security/030_visibility/",
	"title": "Testing and Visibility",
	"tags": [],
	"description": "",
	"content": " First lets try and attack our application with a XSS attack using the following URL\nhttps://::makeid::.sales-public.f5demos.com/?a=%3Cscript%3Ealert(%27xss%27)\nYou will receive a response as seen bellow. Copy the support ID, this will allow us to understand why the request has bee×ž blocked.  The requested URL was rejected. Please consult with your administrator.\rYour support ID is 37e7688f-6fdd-404e-9f6d-3813f9dc5648\r[Go Back]\rLets look at the logs and understand why the request has been blocked   "
},
{
	"uri": "/020_application/030_visibility_1/",
	"title": "Visibility",
	"tags": [],
	"description": "",
	"content": "Our application is exposed to the world and our clients have alredy started to trade. F5XC not only allows us the publish and protect our application but also to monitor the behaivour.\n  The main dashboard presents us with the overall status of our application.   We can monitor each and every requests including what has been sent by the client and the response and latency of the server.   "
},
{
	"uri": "/040_local_pops/",
	"title": "Local Pops",
	"tags": [],
	"description": "",
	"content": "F5XC can provide additional capabilities by expanding the F5XC directly into the customer datacenter.\nThis is done by installing an VM/Baremetal device, F5XC Customer Edge ( CE ) in the datacenter. This provides multiple unique capabilities:\n Load balancing the traffic directly to the real servers with no need to expose them to the internet Send the traffic directly to the onprem F5XC CE which is fully managed from the cloud Create a private network between datacenters and allow applications to communicate with each other Many many more  "
},
{
	"uri": "/030_security/040_api/",
	"title": "API Security",
	"tags": [],
	"description": "",
	"content": "Previously we have protected our application using a Negative Security Model.\nWe can do a lot more by creating manual rules that define what URLs, Methods and lot more are allowed. This is called Positive Security Model.\nAlthough the Positive Security Model will intruduced enchanced security it will also increase the required maintenance.\nNow we can implement both security models without the increased maintenance by using OpenAPI/Swagger\rdefinitions of the application.\n  Download the OpenApi spec of arcadia application from here\r  Import the definition into F5XC   Create a new API definition\n  Our application API endpoints all start with \u0026ldquo;/v1\u0026rdquo;. All other HTTP paths will be routed to the frontend container which serves static pages.\nWe will need to create a policy which will:\na) Allow only the defined endpointes from the swagger file\nb) Deny any request that starts with HTTP path \u0026ldquo;/v1\u0026rdquo; and does not matches \u0026ldquo;a\u0026rdquo;\nc) Allow request for static content\n  function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-api-enforcer\u0026#34;,\r\u0026#34;labels\u0026#34;: {}\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;any_server\u0026#34;: {},\r\u0026#34;rule_list\u0026#34;: {\r\u0026#34;rules\u0026#34;: [\r{\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;allowed-swagger\u0026#34;\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;action\u0026#34;: \u0026#34;ALLOW\u0026#34;,\r\u0026#34;any_client\u0026#34;: {},\r\u0026#34;label_matcher\u0026#34;: {\r\u0026#34;keys\u0026#34;: []\r},\r\u0026#34;headers\u0026#34;: [],\r\u0026#34;query_params\u0026#34;: [],\r\u0026#34;any_ip\u0026#34;: {},\r\u0026#34;any_asn\u0026#34;: {},\r\u0026#34;api_group_matcher\u0026#34;: {\r\u0026#34;match\u0026#34;: [\r\u0026#34;ves-io-api-def-arcadia-api-definition-all-operations\u0026#34;\r]\r},\r\u0026#34;arg_matchers\u0026#34;: [],\r\u0026#34;cookie_matchers\u0026#34;: [],\r\u0026#34;waf_action\u0026#34;: {\r\u0026#34;none\u0026#34;: {}\r},\r\u0026#34;bot_action\u0026#34;: {\r\u0026#34;none\u0026#34;: {}\r},\r\u0026#34;mum_action\u0026#34;: {\r\u0026#34;default\u0026#34;: {}\r},\r\u0026#34;ip_reputation_action\u0026#34;: {\r\u0026#34;default\u0026#34;: {}\r}\r}\r},\r{\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;deny-all-v1-api\u0026#34;\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;action\u0026#34;: \u0026#34;DENY\u0026#34;,\r\u0026#34;any_client\u0026#34;: {},\r\u0026#34;label_matcher\u0026#34;: {\r\u0026#34;keys\u0026#34;: []\r},\r\u0026#34;path\u0026#34;: {\r\u0026#34;prefix_values\u0026#34;: [\r\u0026#34;/v1\u0026#34;\r],\r\u0026#34;exact_values\u0026#34;: [],\r\u0026#34;regex_values\u0026#34;: [],\r\u0026#34;suffix_values\u0026#34;: [],\r\u0026#34;transformers\u0026#34;: []\r},\r\u0026#34;headers\u0026#34;: [],\r\u0026#34;query_params\u0026#34;: [],\r\u0026#34;any_ip\u0026#34;: {},\r\u0026#34;any_asn\u0026#34;: {},\r\u0026#34;arg_matchers\u0026#34;: [],\r\u0026#34;cookie_matchers\u0026#34;: [],\r\u0026#34;waf_action\u0026#34;: {\r\u0026#34;none\u0026#34;: {}\r},\r\u0026#34;bot_action\u0026#34;: {\r\u0026#34;none\u0026#34;: {}\r},\r\u0026#34;mum_action\u0026#34;: {\r\u0026#34;default\u0026#34;: {}\r},\r\u0026#34;ip_reputation_action\u0026#34;: {\r\u0026#34;default\u0026#34;: {}\r}\r}\r},\r{\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;allow-all-else\u0026#34;\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;action\u0026#34;: \u0026#34;ALLOW\u0026#34;,\r\u0026#34;any_client\u0026#34;: {},\r\u0026#34;label_matcher\u0026#34;: {\r\u0026#34;keys\u0026#34;: []\r},\r\u0026#34;headers\u0026#34;: [],\r\u0026#34;query_params\u0026#34;: [],\r\u0026#34;any_ip\u0026#34;: {},\r\u0026#34;any_asn\u0026#34;: {},\r\u0026#34;arg_matchers\u0026#34;: [],\r\u0026#34;cookie_matchers\u0026#34;: [],\r\u0026#34;waf_action\u0026#34;: {\r\u0026#34;none\u0026#34;: {}\r},\r\u0026#34;bot_action\u0026#34;: {\r\u0026#34;none\u0026#34;: {}\r},\r\u0026#34;mum_action\u0026#34;: {\r\u0026#34;default\u0026#34;: {}\r},\r\u0026#34;ip_reputation_action\u0026#34;: {\r\u0026#34;default\u0026#34;: {}\r}\r}\r}\r]\r}\r}\r}\r\r\r Finally as our last step of the process we need to attach the policy to our load balancer.  "
},
{
	"uri": "/040_local_pops/040_internalcomm/",
	"title": "Inter DC communication",
	"tags": [],
	"description": "",
	"content": "After migrating parts of the application and specially the Stocks Transaction service it is required to provide connectivity from the cloud environment to the on prem remainging Users service.\n Create the internal Load Balancer which will route the traffic from the AWS site Stock transaction service to the onprem Users service  function toggle_visibility(el) {\rconst e = el.nextSibling.nextSibling.nextSibling.nextSibling; if(e.style.display == 'none') {\rel.innerHTML = 'Hide'; e.style.display = 'block';\r}\relse {\rel.innerHTML = 'Show'; e.style.display = 'none';\r} }\rfunction cp_to_clip(el) {\rconst e = el.nextSibling.nextSibling.children[0];\rconsole.log(e.textContent);\rnavigator.clipboard.writeText(e.textContent);\r}\r\r Show\r\rCopy code\r  {\r\u0026#34;metadata\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-aws-to-onprem\u0026#34;,\r\u0026#34;labels\u0026#34;: {},\r\u0026#34;annotations\u0026#34;: {},\r\u0026#34;disable\u0026#34;: false\r},\r\u0026#34;spec\u0026#34;: {\r\u0026#34;domains\u0026#34;: [\r\u0026#34;arcadiaonprem.aws.internal\u0026#34;\r],\r\u0026#34;http\u0026#34;: {\r\u0026#34;dns_volterra_managed\u0026#34;: false,\r\u0026#34;port\u0026#34;: 80\r},\r\u0026#34;advertise_custom\u0026#34;: {\r\u0026#34;advertise_where\u0026#34;: [\r{\r\u0026#34;site\u0026#34;: {\r\u0026#34;network\u0026#34;: \u0026#34;SITE_NETWORK_INSIDE_AND_OUTSIDE\u0026#34;,\r\u0026#34;site\u0026#34;: {\r\u0026#34;namespace\u0026#34;: \u0026#34;system\u0026#34;,\r\u0026#34;name\u0026#34;: \u0026#34;::ceOnAws::\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;site\u0026#34;\r}\r},\r\u0026#34;use_default_port\u0026#34;: {}\r}\r]\r},\r\u0026#34;default_route_pools\u0026#34;: [\r{\r\u0026#34;pool\u0026#34;: {\r\u0026#34;name\u0026#34;: \u0026#34;arcadia-onprem-origin-pool\u0026#34;,\r\u0026#34;kind\u0026#34;: \u0026#34;origin_pool\u0026#34;\r},\r\u0026#34;weight\u0026#34;: 1,\r\u0026#34;priority\u0026#34;: 1,\r\u0026#34;endpoint_subsets\u0026#34;: {}\r}\r],\r\u0026#34;disable_waf\u0026#34;: {},\r\u0026#34;add_location\u0026#34;: true,\r\u0026#34;no_challenge\u0026#34;: {},\r\u0026#34;user_id_client_ip\u0026#34;: {},\r\u0026#34;disable_rate_limit\u0026#34;: {},\r\u0026#34;service_policies_from_namespace\u0026#34;: {},\r\u0026#34;round_robin\u0026#34;: {},\r\u0026#34;disable_trust_client_ip_headers\u0026#34;: {},\r\u0026#34;disable_ddos_detection\u0026#34;: {},\r\u0026#34;disable_malicious_user_detection\u0026#34;: {},\r\u0026#34;disable_api_discovery\u0026#34;: {},\r\u0026#34;disable_bot_defense\u0026#34;: {},\r\u0026#34;disable_api_definition\u0026#34;: {},\r\u0026#34;disable_ip_reputation\u0026#34;: {},\r\u0026#34;disable_client_side_defense\u0026#34;: {}\r}\r}\r\r\r  Go ahead and verify that you can buy/sell crypto currency.\n  Go to the \u0026ldquo;arcadia-aws-to-onprem\u0026rdquo; Load Balancer statistics and observe that the inter sites communication is fully visible.\n  "
},
{
	"uri": "/050_virtual_k8s/",
	"title": "Distributed Kubernetes",
	"tags": [],
	"description": "",
	"content": "F5 Distributed Cloud can provide a distributed Kubernetes environment where we can deploy our application containers in any of the F5XC Regional Edge or Customer Edge.\nThis allows us to run our application code very close to the client and provide very fast responses.\nFor our application the Stocks service is providing the current price of the crypto currency. To ensure that the price that the client is seeing is the same as the backend and is not changing due to latency issues we are exposing the Stocks service both in the AWS site for use by the local services and at the same time deploy it on the London Regional Edge.\n"
},
{
	"uri": "/030_security/050_testing_api/",
	"title": "Testing API Security",
	"tags": [],
	"description": "",
	"content": "First we need to verify that the previously defined policy is working as expected\n  Browse to https://::makeid::.sales-public.f5demos.com/notanactualpage\nYou should be able to recive all the relevant HTML, JS, CSS and have rendered the 404 page.\n  Browse to https://::makeid::.sales-public.f5demos.com/v1/notanactualapi The request will be blocked with a 403 message and a support ID. Copy to the clipboard the support ID.\n  The requested URL was rejected. Please consult with your administrator.\rYour support ID is 687cd41c-2435-4b95-8008-e26f637e0d33\rError 403 - Forbidden\rF5 site: ams9-ams\r[Go Back]\rLets look at the logs and understand why the request has been blocked  "
},
{
	"uri": "/030_security/060_bot/",
	"title": "Bot protection",
	"tags": [],
	"description": "",
	"content": "Bots are a real issue. They are used for mass fraud which has an impact on the business and it customers.\nOne of the most common attack vectors is Credential stuffing which tries to validates a database of stolen credentials through the use of automation tools.\nIn the next steps we are going to protect our application login process from being accessed by these bots.\n Go the load balancer config section  Enable the Bot protection  Testing this is quite simple, run the following curl command from your PC curl -X POST https://::makeid::.sales-public.f5demos.com/v1/login -H 'Content-Type: application/json' -d '{\u0026quot;email\u0026quot;:\u0026quot;satoshi@bitcoin.com\u0026quot;,\u0026quot;password\u0026quot;:\u0026quot;bitcoin\u0026quot;}'\nYou will receive a block message as seen bellow.  The requested URL was rejected. Please consult with your administrator.\r"
},
{
	"uri": "/060_final_words/",
	"title": "Final Words",
	"tags": [],
	"description": "",
	"content": "Our workshop is finished now. I hope you have enjoyed the experience and the value that F5XC can bring to your organization and day to day work processes. Feedback, thoughts or questions on are much appreciated, you can send all these to sorin@f5.com.\n"
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]